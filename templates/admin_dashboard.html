{% extends 'layout.html' %}
{% block title %}
    Admin Dashboard
{% endblock %}

{% block content %}
<div class="container">
    <nav class="navbar navbar-expand-lg bg-body-tertiary">
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
          <ul class="navbar-nav me-auto mb-2 mb-lg-0">
            <li class="nav-item">
              <a class="nav-link active" href="{{url_for('admin_view_influencers')}}">View Influencers</a>
            </li>
            <li class="nav-item">
                <a class="nav-link active" href="{{url_for('admin_view_flagged_influencers')}}">View Flagged Influencers</a>
            </li>
       
            <li class="nav-item">
              <a class="nav-link active" href="{{url_for('logout')}}">Logout</a>
            </li>
          </ul>
        </div>
      </div>
    </nav>
    <h1 class="display-1"> Admin Dashboard</h1>
    <div class="row">
        <div class="col">
            <div class="card-header">
                Users
            </div>
            <div class="card-body">
                <h5 class="card-title">Total Users: {{ total_users}}</h5>
                <p class="card-text"> Total Sponsors:{{total_sponsors}}</p>
                <p class="card-text"> Total Influencers:{{total_influencers}}</p>
            </div>       
        </div>
    
    <div class="col">
        <div class="card-header">
            Campaigns
        </div>
        <div class="card-body">
            <h5 class="card-title">Total Campaigns: {{ total_campaigns}}</h5>
            <p class="card-text"> Total Public Campaigns:{{total_public_campaigns}}</p>
            <p class="card-text"> Total Private Campaigns:{{total_private_campaigns}}</p>
        </div>       
    </div>
    <div class="col">
        <div class="card-header">
            Ad Requests
        </div>
        <div class="card-body">
            <h5 class="card-title">Total Ad Requests: {{ total_ad_requests}}</h5>
            <p class="card-text"> Pending:{{total_pending_requests}}</p>
            <p class="card-text"> Accepted:{{total_accepted_requests}}</p>
            <p class="card-text"> Rejected:{{total_rejected_requests}}</p>
        </div>       
    </div>
    <div class="col">
        <div class="card-header">
            Flagged Items
        </div>
        <div class="card-body">
            <h5 class="card-title">Flagged Users: {{ flagged_users}}</h5>
            <p class="card-text"> Flagged Campaigns:{{flagged_campaigns}}</p>
        </div>       
    </div>

    <div class="mt-4">
        <h2>Ongoing Campaigns</h2>
        {% if ongoing_campaigns %}
            <ul>
                {% for campaign in ongoing_campaigns %}
                    <li>{{ campaign.name }} - <a href="{{ url_for('admin_view_campaign', campaign_id=campaign.id) }}" class="btn btn-primary">View</a></li>
                {% endfor %}
            </ul>
        {% else %}
            <p>No ongoing campaigns.</p>
        {% endif %}
    </div> 
   
</div>
{% endblock %}
















